<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>BankiX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0; padding: 0;
      height: 100vh;
      background-color: #111;
      color: #fff;
      font-family: sans-serif;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
      overflow: hidden;
    }
    nav {
      height: 60px;
      background-color: #222;
      border-top: 1px solid #333;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 100;
    }
    button {
      background-color: #333;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #444;
    }
    input {
      margin: 5px;
      padding: 10px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      width: 200px;
      max-width: 100%;
    }
    .section {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding-bottom: 60px;
      height: 100%;
    }
    .section.active {
      display: flex;
    }
    h1 {
      margin-bottom: 20px;
    }

    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –º–∏–Ω–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
    #modal {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -30%);
      background: #222;
      color: #eee;
      padding: 20px 30px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.7);
      font-size: 18px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 1000;
      max-width: 90%;
      text-align: center;
    }
    #modal.show {
      opacity: 1;
      pointer-events: auto;
    }
  </style>
</head>
<body>
  <main>
    <div id="earn" class="section active">
      <h1>–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å</h1>
      <p>–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å 200 –º–æ–Ω–µ—Ç (—Ä–∞–∑ –≤ 2 —á–∞—Å–∞)</p>
      <button onclick="claimCoins()">üí∏ –ü–æ–ª—É—á–∏—Ç—å</button>
    </div>

    <div id="send" class="section">
      <h1>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–æ–Ω–µ—Ç—ã</h1>
      <input type="text" id="targetId" placeholder="ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è" />
      <input type="number" id="amount" placeholder="–°—É–º–º–∞" />
      <button onclick="sendCoins()">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>

    <div id="menu" class="section">
      <h1>–ü—Ä–æ—Ñ–∏–ª—å</h1>
      <p>ID: <span id="userIdDisplay"></span></p>
      <p>–ú–æ–Ω–µ—Ç—ã: <span id="coinDisplay">0</span></p>
      <button onclick="toggleTheme()">üåì –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>
    </div>
  </main>

  <nav>
    <button onclick="showTab('earn')">üí∞ –ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å</button>
    <button onclick="showTab('send')">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    <button onclick="showTab('menu')">üìÅ –ú–µ–Ω—é</button>
  </nav>

  <div id="modal"></div>

  <script>
    // –°–æ–∑–¥–∞—ë–º –∏–ª–∏ –ø–æ–ª—É—á–∞–µ–º ID
    let userId = localStorage.getItem("bankix_user_id");
    if (!userId) {
      userId = "ID" + Math.floor(Math.random() * 1000000);
      localStorage.setItem("bankix_user_id", userId);
    }
    document.getElementById("userIdDisplay").textContent = userId;

    // –ë–∞–ª–∞–Ω—Å –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è
    let coins = parseInt(localStorage.getItem("bankix_coins")) || 0;
    let lastClaim = parseInt(localStorage.getItem("bankix_last_claim")) || 0;

    // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –º–∏–Ω–¥–∞–ª—å–Ω–æ–µ
    const modal = document.getElementById('modal');
    let modalTimeout;

    function showModal(msg) {
      clearTimeout(modalTimeout);
      modal.textContent = msg;
      modal.classList.add('show');
      modalTimeout = setTimeout(() => {
        modal.classList.remove('show');
      }, 3000);
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å —Å —É—á—ë—Ç–æ–º –≤—Ö–æ–¥—è—â–∏—Ö –º–æ–Ω–µ—Ç
    function updateDisplay() {
      const inboxKey = "bankix_inbox_" + userId;
      const inboxCoins = parseInt(localStorage.getItem(inboxKey)) || 0;
      if (inboxCoins > 0) {
        coins += inboxCoins;
        localStorage.setItem("bankix_coins", coins);
        localStorage.setItem(inboxKey, 0);
        showModal(`üì• –ü–æ–ª—É—á–µ–Ω–æ ${inboxCoins} –º–æ–Ω–µ—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`);
      }
      document.getElementById("coinDisplay").textContent = coins;
    }

    function claimCoins() {
      const now = Date.now();
      const twoHours = 2 * 60 * 60 * 1000;
      if (now - lastClaim >= twoHours) {
        coins += 200;
        lastClaim = now;
        localStorage.setItem("bankix_coins", coins);
        localStorage.setItem("bankix_last_claim", lastClaim);
        updateDisplay();
        showModal("‚úÖ –ü–æ–ª—É—á–µ–Ω–æ 200 –º–æ–Ω–µ—Ç!");
      } else {
        const remaining = Math.ceil((twoHours - (now - lastClaim)) / 60000);
        showModal("‚è≥ –ü–æ–ø—Ä–æ–±—É–π —á–µ—Ä–µ–∑ " + remaining + " –º–∏–Ω.");
      }
    }

    function sendCoins() {
      const target = document.getElementById("targetId").value.trim();
      const amount = parseInt(document.getElementById("amount").value);
      if (!target || isNaN(amount) || amount <= 0) {
        showModal("‚ùå –í–≤–µ–¥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ");
        return;
      }
      if (amount > coins) {
        showModal("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç");
        return;
      }

      coins -= amount;
      localStorage.setItem("bankix_coins", coins);

      const inboxKey = "bankix_inbox_" + target;
      let targetCoins = parseInt(localStorage.getItem(inboxKey)) || 0;
      targetCoins += amount;
      localStorage.setItem(inboxKey, targetCoins);

      updateDisplay();
      showModal(`‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ ${amount} –º–æ–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ${target}`);
    }

    function showTab(id) {
      document.querySelectorAll(".section").forEach(el => el.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // –¢–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç—ë–º–Ω–∞—è
    function applyDefaultTheme() {
      document.body.style.backgroundColor = "#111";
      document.body.style.color = "#fff";
    }

    function toggleTheme() {
      const body = document.body;
      if (body.style.backgroundColor === "white") {
        body.style.backgroundColor = "#111";
        body.style.color = "#fff";
      } else {
        body.style.backgroundColor = "white";
        body.style.color = "#000";
      }
    }

    applyDefaultTheme();
    updateDisplay();
  </script>
</body>
        </html>
